> 目的：介绍 vue 中 slot的用法。
>
> 日期：2018/07/29
>
> 说明：VUE 2.X版本
>
> 作者：1097364388@qq.com
>
> 参考：https://blog.csdn.net/weixin_41646716/article/details/80450873



### slot插槽

VUE中关于插槽的文档说明很短，语言又写的很凝练，再加上其和方法，数据，计算机等常用选项在使用频率，使用先后上的差别，这就有可能造成初次接触插槽的开发者容易产生“算了吧，回头再学，反正已经可以写基础组件了”的想法，于是就关闭了VUE的说明文档。

#### 1、什么是slot
插槽，也就是槽，是组件的一块HTML模板，这块模板**显示/隐藏**，以及**怎样显示**由**父组件**来决定。  实际上，一个时隙最核心的两个问题在这里就点出来了，**是否显示**以及**怎样显示**。

#### 2、理解HTML模板

由于插槽是一块模板，所以，对于任何一个组件，从模板种类的角度来分，其实都可以分为**非插槽模**板和**插槽模板**两大类。

- **非插槽模板**的**显示与隐藏**以及 **怎样显示**由**组件自身**控制;(div, img, table);
- **插槽模板**它是一个空壳子，因为它的**显示与隐藏**以及**怎样显示**由**父组件**来决定,槽写在组件模板的什么位置，父组件传过来的模板将来就显示在什么位置。

#### 3、插槽的分类

插槽分为3类。

- **匿名插槽**(单个插槽/ 默认插槽)
- **具名插槽**
- **数据插槽**(作用域插槽)

#### 4、匿名插槽
首先是单个插槽，单个插槽的英文VUE的官方叫法，但是其实也可以叫它默认插槽，或者与具名插槽相对，我们可以叫它匿名插槽。因为它不用设置名称属性。

单个插槽可以放置在组件的任意位置，但是就像它的名字一样，一个组件中只能有一个该类插槽。相对应的，具名插槽就可以有很多个，只要名字（名称属性）不同就可以了。

这种觉得用途很小，暂时不考虑使用。

#### 5、具名插槽
匿名插槽没有名称属性，所以是匿名插槽，那么，插槽加了名称属性，就变成了具名插槽。具名插槽可以在一个组件中出现Ñ次，出现在不同的位置。

例子：
```html
// 子组件,定义插槽
<Header>
     <slot name="logo"></logo>
</Header>

// 父组件,使用插槽
<div>
	<Header>
         <!-- 父组件中通过slot属性使用 -->
	     <img src="./logo.jpg" slot="logo">
	</Header>
</div>
```

父组件通过HTML模板上的槽属性关联具名插槽。没有槽属性的HTML模板默认关联匿名插槽。

#### 6、数据插槽

在插槽上绑定数据。直观感受:

```js
//匿名插槽
<slot></slot>

//具名插槽
<slot name="up"></slot>

// 数据插槽
<slot name="up" :data="data"></slot>
 export default {
    data: function(){
      return {
        data: ['zhangsan','lisi']
      }
    },
}
```



**数据插槽特点：**

- **数据插槽**自身**提供数据**，所以父组件还需要提供**子组件**的**样式(css)**和**结构(html)**。
- **匿名插槽**和**具名插槽**，父组件要同时提供**样式**、**结构**和**数据**。




**例子：**

父组件中使用子组件,要提供给**数据插槽**的仅仅是样式(css)和结构(html)。可以使用各种结构展示数据,这里使用ul/li方式。

```html
// 父组件中调用子组件,father.vue
<child-component>
  <template slot-scope="userData" slot="useerName">
    <ul>
       <li v-for="(item,index) in userData.data" :key="index">{{item}}</li>
    </ul>
   </template>
</child-component>

// 子组件定义,childComponent.vue
<div>
	 <slot :data="data"  name="useerName"></slot>
</div>
export default {
    data(){
       return {
            data:["杜诗","廉明"]
       }
    }
}
```

- slot-scope,拿到子组件的所有数据
- 父组件调用使用template包裹

渲染结果：

![数据插槽](.\img\数据插槽.bmp)



<全文结束>


